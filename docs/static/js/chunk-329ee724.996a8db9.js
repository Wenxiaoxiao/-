(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-329ee724"],{"30af":function(t,e,n){},"9c44":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"personInfo full-page"},[n("div",{staticClass:"content"},[n("div",{staticClass:"logo-wrapper"},[t.fileList&&t.fileList.length>0?n("img",{staticClass:"logo",attrs:{src:t.fileList[0].url,alt:""}}):t._e(),n("van-uploader",{staticClass:"logo_upload",attrs:{"after-read":t.afterRead},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1),n("div",{staticClass:"title"},[t._v("基本信息")]),n("div",{staticClass:"fields"},[n("common-field",{attrs:{label:"昵称"}},[n("van-field",{model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}})],1),n("common-field",{attrs:{label:"个性签名"}},[n("van-field",{model:{value:t.bio,callback:function(e){t.bio=e},expression:"bio"}})],1)],1)]),n("div",{staticClass:"btn-container"},[n("van-button",{attrs:{round:"",block:"",color:"#1574F6"},on:{click:t.editInfo}},[t._v("保存")])],1)])},i=[],o=(n("e18c"),n("a55a")),s=n("82ae"),l={name:"personInfo",components:{"common-field":function(){return n.e("chunk-ae26d076").then(n.bind(null,"b4d0"))}},data:function(){return{bio:null,nickname:null,fileList:[]}},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this,e={token:JSON.parse(sessionStorage.getItem("USER_INFO")).token};this.$ajaxList.userInfo(e,(function(e){t.nickname=e.nickname,t.fileList=[{url:e.avatar,isImage:!0}],t.bio=e.bio}))},editInfo:function(){var t={avatar:this.fileList[0].url,nickname:this.nickname,bio:this.bio,token:JSON.parse(sessionStorage.getItem("USER_INFO")).token};this.$ajaxList.editInfo(t,(function(t){Object(o["a"])("修改成功！")}))},afterRead:function(t){var e=this,n=new FormData;console.log(t),n.append("img",t.file);var a="/api/upload/imgUploadOne",i={headers:{"Content-Type":"multipart/form-data"}};s.post(a,n,i).then((function(t){var n=[];n.push({url:t.data.data,isImage:!0}),e.fileList=n,console.log(e.fileList)}))}}},c=l,r=(n("cdd6"),n("9ca4")),f=Object(r["a"])(c,a,i,!1,null,null,null);e["default"]=f.exports},cdd6:function(t,e,n){"use strict";var a=n("30af"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-329ee724.996a8db9.js.map